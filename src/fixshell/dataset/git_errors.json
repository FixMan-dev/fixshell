[
  {
    "error_pattern": "There is no tracking information for the current branch\\. Please specify which branch you want to merge with.*git pull <remote> <branch>",
    "category": "git_upstream",
    "scope": "CONFIG",
    "recommended_checks": [
      "git remote -v",
      "git branch -a"
    ],
    "suggested_fix": [
      "Set upstream tracking to origin/main"
    ],
    "fix_commands": [
      [
        "git",
        "branch",
        "--set-upstream-to=origin/main"
      ]
    ],
    "severity": "medium"
  },
  {
    "error_pattern": "fatal: The current branch (.*) has no upstream branch",
    "category": "git_push_upstream",
    "scope": "CONFIG",
    "recommended_checks": [
      "git branch -a"
    ],
    "suggested_fix": [
      "Push and set upstream for branch '{MATCH_1}'"
    ],
    "fix_commands": [
      [
        "git",
        "push",
        "--set-upstream",
        "origin",
        "{MATCH_1}"
      ]
    ],
    "severity": "medium"
  },
  {
    "error_pattern": "Permission to .* denied to .*|The requested URL returned error: 403",
    "category": "git_permission_denied",
    "scope": "PERMISSION",
    "recommended_checks": [
      "gh auth status",
      "check repo collaborators on GitHub"
    ],
    "suggested_fix": [
      "You don't have write access. Check repo settings on GitHub."
    ],
    "severity": "high"
  },
  {
    "error_pattern": "could not read (Username|password)|terminal prompts disabled|Authentication failed",
    "category": "git_auth",
    "scope": "AUTH",
    "recommended_checks": [
      "gh auth status",
      "git config --list --show-origin"
    ],
    "suggested_fix": [
      "Setup GitHub CLI as credential helper"
    ],
    "fix_commands": [
      [
        "gh",
        "auth",
        "setup-git"
      ]
    ],
    "severity": "high"
  },
  {
    "error_pattern": "Your local changes to the following files would be overwritten by merge",
    "category": "git_pull_conflict",
    "scope": "CONFLICT",
    "recommended_checks": [
      "git status"
    ],
    "suggested_fix": [
      "Stash changes before pull"
    ],
    "fix_commands": [
      [
        "git",
        "stash"
      ]
    ],
    "severity": "high"
  },
  {
    "error_pattern": "rejected .* (non-fast-forward)",
    "category": "git_push_conflict",
    "scope": "CONFLICT",
    "recommended_checks": [
      "git fetch",
      "git log ..origin/main"
    ],
    "suggested_fix": [
      "Run 'git pull --rebase' to sync with remote"
    ],
    "fix_commands": [
      [
        "git",
        "pull",
        "--rebase"
      ]
    ],
    "severity": "medium"
  },
  {
    "error_pattern": "fatal: not a git repository",
    "category": "git_init",
    "scope": "NOT_FOUND",
    "recommended_checks": [
      "ls -a"
    ],
    "suggested_fix": [
      "Run 'git init' in the directory"
    ],
    "fix_commands": [
      [
        "git",
        "init"
      ]
    ],
    "severity": "medium"
  }
]